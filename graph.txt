import plotly.graph_objs as go
from ipywidgets import RadioButtons, VBox
from IPython.display import display

# Sample data
x = [0, 1, 2, 3, 4]
y1 = [0, 1, 4, 9, 16]
y2 = [0, 2, 4, 6, 8]
y3 = [0, 3, 6, 9, 12]

# Create traces for each line
trace1 = go.Scatter(x=x, y=y1, mode='lines', name='Line 1', visible=True)
trace2 = go.Scatter(x=x, y=y2, mode='lines', name='Line 2', visible=True)
trace3 = go.Scatter(x=x, y=y3, mode='lines', name='Line 3', visible=True)

# Create initial data list with all traces
data = [trace1, trace2, trace3]

# Create figure layout
layout = go.Layout(
    title='Interactive Plot with Radio Buttons',
    xaxis=dict(title='X-axis'),
    yaxis=dict(title='Y-axis'),
    showlegend=True
)

# Create the plot figure
fig = go.FigureWidget(data=data, layout=layout)

# Define radio button options
options = [trace.name for trace in fig.data]

# Create radio buttons widget
radio_buttons = RadioButtons(
    options=options,
    description='Lines:',
    disabled=False
)

# Define function to update trace visibility based on selected radio button
def update_lines(selected_line):
    for trace in fig.data:
        if trace.name == selected_line:
            trace.visible = True
        else:
            trace.visible = False

# Register update_lines function with radio buttons' observe method
radio_buttons.observe(lambda change: update_lines(change.new), names='value')

# Display the plot and radio buttons
display(VBox([radio_buttons, fig]))
